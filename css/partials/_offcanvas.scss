/*
 *
 *  Copyright (c) David Bushell | http://dbushell.com/
 *
 */

.menu-btn, .close-btn {
 position: absolute;
 top: 25px;
 display: block;
 width: 40px;
 height: 40px;
 line-height: 40px;
 text-align: center; 
}

.menu-btn {
 color: #fff;
 @include black-overlay;
 @include font-size(24);
 @include breakpoint(mobile-both)      { top: 10px; }

 &:hover, &:active, &:focus {
  background: $link-color; 
  color: $light-text;
 }

}

.close-btn {
 color: $heading-color;
 @include font-size(24);
 @include breakpoint(mobile-both)      { @include font-size(20); } 
 @include breakpoint(mobile)           { top: 15px; } 

 &:hover, &:active, &:focus { 
  color: $link-color;
 }

}

.sidebar-left {

 .menu-btn { 
  left: 25px; 
  @include breakpoint(mobile-both)      { left: 10px; }
 }

 .close-btn { right: 10px; }

}

.sidebar-right {

 .menu-btn { 
  right: 25px; 
  @include breakpoint(mobile-both)      { right: 10px; }
 }
 
 .close-btn { left: 10px; }

}

#outer-wrap {
 position: relative;
 overflow: hidden;
 width: 100%;
 height: 100%;
}

#inner-wrap {
 position: relative;
 width: 100%;
}

#nav {
 z-index: 200;
 position: relative;
 width: 25%;
 // min-width: 220px;
 // max-width: 300px;
 // min-height: 1000px;
 // background: #333333;
 // background: #ddd;
}

.sidebar-left #nav {
 float: left;
}

.sidebar-right #nav {
 float: right;
}

#top {
 z-index: 100;
 position: relative;
 background: #fff;
 overflow: hidden;
}

@media screen and (min-width: $bp-tablet + 1px) {

 // Hide the navigation button
 #top .menu-btn {
  display: none;
 }

 // Hide the close button 
 #nav .close-btn {
  display: none;
 }

 // Hide the menu sidebar when user clicks the close button
 // #top:target .menu-sidebar {
 //  display: none;
 // }

}

@media screen and (max-width: $bp-tablet) {
  
 #nav {
  position: absolute;
  top: 0;
  overflow: hidden;
  max-width: 1500px !important;
  min-width: 1px !important;
  height: 100%;
 }
 
 // When #nav is not the target, hide the nav
 #nav:not(:target) {
   z-index: 1;
   height: 0;
 }
 
 // When #nav is target, show the menu and close button
 #nav:target .close-btn {
  display: block;
 } 

 .js-ready #nav { height: 100%; }
 
 .csstransforms3d.csstransitions.js-ready #inner-wrap {
  @include transition( transform, 500ms, ease );
  @include translate3d( 0, 0, 0 );
 }

 /* Width & Alignment Properties 
 ==============================================================*/

 $nav: 40%;

 #nav:target { width: $nav; }
 
 .js-ready #nav { width: $nav; } 
  
 /* LEFT SIDEBAR
 ==============================================================*/

 .sidebar-left #nav:target { left: 0; }
 
 .js-ready .sidebar-left {

  #nav { left: -$nav; }

  #inner-wrap { left: 0; }

 }
 
 .js-nav .sidebar-left #inner-wrap { left: $nav; }

 .csstransforms3d.csstransitions.js-ready .sidebar-left {

  #nav {
   left: 0;
   @include translate3d( -100%, 0, 0);
  } 

  #inner-wrap {
   left: 0 !important;
  }

 } 

 .csstransforms3d.csstransitions.js-nav .sidebar-left #inner-wrap {
  @include translate3d( $nav, 0, 0 );
 }

 /* RIGHT SIDEBAR
 ==============================================================*/

 .sidebar-right #nav:target { right: 0; }
 
 .js-ready .sidebar-right {

  #nav { right: -$nav; }

  #inner-wrap { right: 0; }

 }
 
 .js-nav .sidebar-right #inner-wrap { right: $nav; }

 .csstransforms3d.csstransitions.js-ready .sidebar-right {

  #nav {
   right: 0;
   @include translate3d( 100%, 0, 0);
  } 

  #inner-wrap {
   right: 0 !important;
  }

 } 

 .csstransforms3d.csstransitions.js-nav .sidebar-right #inner-wrap {
  @include translate3d( -$nav, 0, 0 );
 }

}

@media screen and (max-width: $bp-mobile-land) {

 $nav: 60%;

 #nav:target { width: $nav; }
 
 .js-ready #nav { width: $nav; } 
  
 /* LEFT SIDEBAR
 ==============================================================*/

 .sidebar-left #nav:target { left: 0; }
 
 .js-ready .sidebar-left {

  #nav { left: -$nav; }

  #inner-wrap { left: 0; }

 }
 
 .js-nav .sidebar-left #inner-wrap { left: $nav; }

 .csstransforms3d.csstransitions.js-ready .sidebar-left {

  #nav {
   left: 0;
   @include translate3d( -100%, 0, 0);
  } 

  #inner-wrap {
   left: 0 !important;
  }

 } 

 .csstransforms3d.csstransitions.js-nav .sidebar-left #inner-wrap {
  @include translate3d( $nav, 0, 0 );
 }

 /* RIGHT SIDEBAR
 ==============================================================*/

 .sidebar-right #nav:target { right: 0; }
 
 .js-ready .sidebar-right {

  #nav { right: -$nav; }

  #inner-wrap { right: 0; }

 }
 
 .js-nav .sidebar-right #inner-wrap { right: $nav; }

 .csstransforms3d.csstransitions.js-ready .sidebar-right {

  #nav {
   right: 0;
   @include translate3d( 100%, 0, 0);
  } 

  #inner-wrap {
   right: 0 !important;
  }

 } 

 .csstransforms3d.csstransitions.js-nav .sidebar-right #inner-wrap {
  @include translate3d( -$nav, 0, 0 );
 }

}

@media screen and (max-width: $bp-mobile) {

 $nav: 80%;
 
 #nav:target { width: $nav; }
 
 .js-ready #nav { width: $nav; } 
  
 /* LEFT SIDEBAR
 ==============================================================*/

 .sidebar-left #nav:target { left: 0; }
 
 .js-ready .sidebar-left {

  #nav { left: -$nav; }

  #inner-wrap { left: 0; }

 }
 
 .js-nav .sidebar-left #inner-wrap { left: $nav; }

 .csstransforms3d.csstransitions.js-ready .sidebar-left {

  #nav {
   left: 0;
   @include translate3d( -100%, 0, 0);
  } 

  #inner-wrap {
   left: 0 !important;
  }

 } 

 .csstransforms3d.csstransitions.js-nav .sidebar-left #inner-wrap {
  @include translate3d( $nav, 0, 0 );
 }

 /* RIGHT SIDEBAR
 ==============================================================*/

 .sidebar-right #nav:target { right: 0; }
 
 .js-ready .sidebar-right {

  #nav { right: -$nav; }

  #inner-wrap { right: 0; }

 }
 
 .js-nav .sidebar-right #inner-wrap { right: $nav; }

 .csstransforms3d.csstransitions.js-ready .sidebar-right {

  #nav {
   right: 0;
   @include translate3d( 100%, 0, 0);
  } 

  #inner-wrap {
   right: 0 !important;
  }

 } 

 .csstransforms3d.csstransitions.js-nav .sidebar-right #inner-wrap {
  @include translate3d( -$nav, 0, 0 );
 }

}
